package com.fisco.app.contract;

import java.math.BigInteger;
import java.util.Arrays;
import java.util.Collections;
import java.util.List;
import org.fisco.bcos.sdk.v3.client.Client;
import org.fisco.bcos.sdk.v3.codec.datatypes.Bool;
import org.fisco.bcos.sdk.v3.codec.datatypes.DynamicArray;
import org.fisco.bcos.sdk.v3.codec.datatypes.DynamicStruct;
import org.fisco.bcos.sdk.v3.codec.datatypes.Function;
import org.fisco.bcos.sdk.v3.codec.datatypes.Type;
import org.fisco.bcos.sdk.v3.codec.datatypes.TypeReference;
import org.fisco.bcos.sdk.v3.codec.datatypes.Utf8String;
import org.fisco.bcos.sdk.v3.codec.datatypes.generated.Uint256;
import org.fisco.bcos.sdk.v3.codec.datatypes.generated.tuples.generated.Tuple1;
import org.fisco.bcos.sdk.v3.codec.datatypes.generated.tuples.generated.Tuple5;
import org.fisco.bcos.sdk.v3.contract.Contract;
import org.fisco.bcos.sdk.v3.crypto.CryptoSuite;
import org.fisco.bcos.sdk.v3.crypto.keypair.CryptoKeyPair;
import org.fisco.bcos.sdk.v3.model.CryptoType;
import org.fisco.bcos.sdk.v3.model.TransactionReceipt;
import org.fisco.bcos.sdk.v3.model.callback.TransactionCallback;
import org.fisco.bcos.sdk.v3.transaction.model.exception.ContractException;

@SuppressWarnings("unchecked")
public class TransactionContract extends Contract {
    public static final String[] BINARY_ARRAY = {"608060405234801561001057600080fd5b50610fd5806100206000396000f3fe608060405234801561001057600080fd5b506004361061004c5760003560e01c806315ae2aa8146100515780638046f84a1461006f57806385a1344214610092578063d6030de2146100b2575b600080fd5b6100596100c5565b6040516100669190610cf6565b60405180910390f35b61008261007d366004610dfb565b6102ee565b6040519015158152602001610066565b6100a56100a0366004610e95565b6103df565b6040516100669190610eae565b6100596100c0366004610ec8565b610696565b60606000805480602002602001604051908101604052809291908181526020016000905b828210156102e557838290600052602060002090600502016040518060a00160405290816000820154815260200160018201805461012690610f05565b80601f016020809104026020016040519081016040528092919081815260200182805461015290610f05565b801561019f5780601f106101745761010080835404028352916020019161019f565b820191906000526020600020905b81548152906001019060200180831161018257829003601f168201915b505050505081526020016002820180546101b890610f05565b80601f01602080910402602001604051908101604052809291908181526020018280546101e490610f05565b80156102315780601f1061020657610100808354040283529160200191610231565b820191906000526020600020905b81548152906001019060200180831161021457829003601f168201915b5050505050815260200160038201805461024a90610f05565b80601f016020809104026020016040519081016040528092919081815260200182805461027690610f05565b80156102c35780601f10610298576101008083540402835291602001916102c3565b820191906000526020600020905b8154815290600101906020018083116102a657829003601f168201915b50505050508152602001600482015481525050815260200190600101906100e9565b50505050905090565b6040805160a081018252868152602080820187815292820186905260608201859052608082018490526000805460018101825581805283517f290decd9548b62a8d60345a988386fc84ba6bc95484008f6362f93160ef3e56360059092029182019081559451805192958594909361038c937f290decd9548b62a8d60345a988386fc84ba6bc95484008f6362f93160ef3e564019290910190610ba7565b50604082015180516103a8916002840191602090910190610ba7565b50606082015180516103c4916003840191602090910190610ba7565b50608082015181600401555050600191505095945050505050565b6104116040518060a0016040528060008152602001606081526020016060815260200160608152602001600081525090565b60008080549050905061044c6040518060a0016040528060008152602001606081526020016060815260200160608152602001600081525090565b60005b8281101561068e576000818154811061046a5761046a610f40565b90600052602060002090600502016000015485141561067c576000818154811061049657610496610f40565b90600052602060002090600502016040518060a0016040529081600082015481526020016001820180546104c990610f05565b80601f01602080910402602001604051908101604052809291908181526020018280546104f590610f05565b80156105425780601f1061051757610100808354040283529160200191610542565b820191906000526020600020905b81548152906001019060200180831161052557829003601f168201915b5050505050815260200160028201805461055b90610f05565b80601f016020809104026020016040519081016040528092919081815260200182805461058790610f05565b80156105d45780601f106105a9576101008083540402835291602001916105d4565b820191906000526020600020905b8154815290600101906020018083116105b757829003601f168201915b505050505081526020016003820180546105ed90610f05565b80601f016020809104026020016040519081016040528092919081815260200182805461061990610f05565b80156106665780601f1061063b57610100808354040283529160200191610666565b820191906000526020600020905b81548152906001019060200180831161064957829003601f168201915b5050505050815260200160048201548152505091505b8061068681610f6c565b91505061044f565b509392505050565b60008054606091805b828110156107875760008082815481106106bb576106bb610f40565b906000526020600020906005020160020180546106d790610f05565b80601f016020809104026020016040519081016040528092919081815260200182805461070390610f05565b80156107505780601f1061072557610100808354040283529160200191610750565b820191906000526020600020905b81548152906001019060200180831161073357829003601f168201915b505050505090506107618682610b13565b1561077457610771600184610f87565b92505b508061077f81610f6c565b91505061069f565b5060008167ffffffffffffffff8111156107a3576107a3610d58565b60405190808252806020026020018201604052801561080657816020015b6107f36040518060a0016040528060008152602001606081526020016060815260200160608152602001600081525090565b8152602001906001900390816107c15790505b5090506000805b84811015610b0857600080828154811061082957610829610f40565b9060005260206000209060050201600201805461084590610f05565b80601f016020809104026020016040519081016040528092919081815260200182805461087190610f05565b80156108be5780601f10610893576101008083540402835291602001916108be565b820191906000526020600020905b8154815290600101906020018083116108a157829003601f168201915b505050505090506108cf8882610b13565b15610af557600082815481106108e7576108e7610f40565b90600052602060002090600502016040518060a00160405290816000820154815260200160018201805461091a90610f05565b80601f016020809104026020016040519081016040528092919081815260200182805461094690610f05565b80156109935780601f1061096857610100808354040283529160200191610993565b820191906000526020600020905b81548152906001019060200180831161097657829003601f168201915b505050505081526020016002820180546109ac90610f05565b80601f01602080910402602001604051908101604052809291908181526020018280546109d890610f05565b8015610a255780601f106109fa57610100808354040283529160200191610a25565b820191906000526020600020905b815481529060010190602001808311610a0857829003601f168201915b50505050508152602001600382018054610a3e90610f05565b80601f0160208091040260200160405190810160405280929190818152602001828054610a6a90610f05565b8015610ab75780601f10610a8c57610100808354040283529160200191610ab7565b820191906000526020600020905b815481529060010190602001808311610a9a57829003601f168201915b50505050508152602001600482015481525050848481518110610adc57610adc610f40565b6020908102919091010152610af2600184610f87565b92505b5080610b0081610f6c565b91505061080d565b509095945050505050565b60008151835114610b2657506000610ba1565b60005b8351811015610b9b57828181518110610b4457610b44610f40565b602001015160f81c60f81b6001600160f81b031916848281518110610b6b57610b6b610f40565b01602001516001600160f81b03191614610b89576000915050610ba1565b80610b9381610f6c565b915050610b29565b50600190505b92915050565b828054610bb390610f05565b90600052602060002090601f016020900481019282610bd55760008555610c1b565b82601f10610bee57805160ff1916838001178555610c1b565b82800160010185558215610c1b579182015b82811115610c1b578251825591602001919060010190610c00565b50610c27929150610c2b565b5090565b5b80821115610c275760008155600101610c2c565b6000815180845260005b81811015610c6657602081850181015186830182015201610c4a565b81811115610c78576000602083870101525b50601f01601f19169290920160200192915050565b805182526000602082015160a06020850152610cac60a0850182610c40565b905060408301518482036040860152610cc58282610c40565b91505060608301518482036060860152610cdf8282610c40565b915050608083015160808501528091505092915050565b6000602080830181845280855180835260408601915060408160051b870101925083870160005b82811015610d4b57603f19888603018452610d39858351610c8d565b94509285019290850190600101610d1d565b5092979650505050505050565b634e487b7160e01b600052604160045260246000fd5b600082601f830112610d7f57600080fd5b813567ffffffffffffffff80821115610d9a57610d9a610d58565b604051601f8301601f19908116603f01168101908282118183101715610dc257610dc2610d58565b81604052838152866020858801011115610ddb57600080fd5b836020870160208301376000602085830101528094505050505092915050565b600080600080600060a08688031215610e1357600080fd5b85359450602086013567ffffffffffffffff80821115610e3257600080fd5b610e3e89838a01610d6e565b95506040880135915080821115610e5457600080fd5b610e6089838a01610d6e565b94506060880135915080821115610e7657600080fd5b50610e8388828901610d6e565b95989497509295608001359392505050565b600060208284031215610ea757600080fd5b5035919050565b602081526000610ec16020830184610c8d565b9392505050565b600060208284031215610eda57600080fd5b813567ffffffffffffffff811115610ef157600080fd5b610efd84828501610d6e565b949350505050565b600181811c90821680610f1957607f821691505b60208210811415610f3a57634e487b7160e01b600052602260045260246000fd5b50919050565b634e487b7160e01b600052603260045260246000fd5b634e487b7160e01b600052601160045260246000fd5b6000600019821415610f8057610f80610f56565b5060010190565b60008219821115610f9a57610f9a610f56565b50019056fea26469706673582212209ec9a8da4438b9b06fd15e3a64d0c56cc5548c088caf11b0f3b990498c6bbe3c64736f6c634300080b0033"};

    public static final String BINARY = org.fisco.bcos.sdk.v3.utils.StringUtils.joinAll("", BINARY_ARRAY);

    public static final String[] SM_BINARY_ARRAY = {"608060405234801561001057600080fd5b50610fd5806100206000396000f3fe608060405234801561001057600080fd5b506004361061004c5760003560e01c806351268190146100515780635a8a27d81461007a5780639e7c4c7f1461009d578063e0c595ec146100bd575b600080fd5b61006461005f366004610ce3565b6100c5565b6040516100719190610dd6565b60405180910390f35b61008d610088366004610e38565b610542565b6040519015158152602001610071565b6100b06100ab366004610ed2565b610633565b6040516100719190610eeb565b6100646108ea565b60008054606091805b828110156101b65760008082815481106100ea576100ea610f05565b9060005260206000209060050201600201805461010690610f1b565b80601f016020809104026020016040519081016040528092919081815260200182805461013290610f1b565b801561017f5780601f106101545761010080835404028352916020019161017f565b820191906000526020600020905b81548152906001019060200180831161016257829003601f168201915b505050505090506101908682610b13565b156101a3576101a0600184610f6c565b92505b50806101ae81610f84565b9150506100ce565b5060008167ffffffffffffffff8111156101d2576101d2610c40565b60405190808252806020026020018201604052801561023557816020015b6102226040518060a0016040528060008152602001606081526020016060815260200160608152602001600081525090565b8152602001906001900390816101f05790505b5090506000805b8481101561053757600080828154811061025857610258610f05565b9060005260206000209060050201600201805461027490610f1b565b80601f01602080910402602001604051908101604052809291908181526020018280546102a090610f1b565b80156102ed5780601f106102c2576101008083540402835291602001916102ed565b820191906000526020600020905b8154815290600101906020018083116102d057829003601f168201915b505050505090506102fe8882610b13565b15610524576000828154811061031657610316610f05565b90600052602060002090600502016040518060a00160405290816000820154815260200160018201805461034990610f1b565b80601f016020809104026020016040519081016040528092919081815260200182805461037590610f1b565b80156103c25780601f10610397576101008083540402835291602001916103c2565b820191906000526020600020905b8154815290600101906020018083116103a557829003601f168201915b505050505081526020016002820180546103db90610f1b565b80601f016020809104026020016040519081016040528092919081815260200182805461040790610f1b565b80156104545780601f1061042957610100808354040283529160200191610454565b820191906000526020600020905b81548152906001019060200180831161043757829003601f168201915b5050505050815260200160038201805461046d90610f1b565b80601f016020809104026020016040519081016040528092919081815260200182805461049990610f1b565b80156104e65780601f106104bb576101008083540402835291602001916104e6565b820191906000526020600020905b8154815290600101906020018083116104c957829003601f168201915b5050505050815260200160048201548152505084848151811061050b5761050b610f05565b6020908102919091010152610521600184610f6c565b92505b508061052f81610f84565b91505061023c565b509095945050505050565b6040805160a081018252868152602080820187815292820186905260608201859052608082018490526000805460018101825581805283517fe0bab8f4d8172ba245190d13c94117e93b82166c25b2b69883350c192c9051406005909202918201908155945180519295859490936105e0937fe0bab8f4d8172ba245190d13c94117e93b82166c25b2b69883350c192c905141019290910190610ba7565b50604082015180516105fc916002840191602090910190610ba7565b5060608201518051610618916003840191602090910190610ba7565b50608082015181600401555050600191505095945050505050565b6106656040518060a0016040528060008152602001606081526020016060815260200160608152602001600081525090565b6000808054905090506106a06040518060a0016040528060008152602001606081526020016060815260200160608152602001600081525090565b60005b828110156108e257600081815481106106be576106be610f05565b9060005260206000209060050201600001548514156108d057600081815481106106ea576106ea610f05565b90600052602060002090600502016040518060a00160405290816000820154815260200160018201805461071d90610f1b565b80601f016020809104026020016040519081016040528092919081815260200182805461074990610f1b565b80156107965780601f1061076b57610100808354040283529160200191610796565b820191906000526020600020905b81548152906001019060200180831161077957829003601f168201915b505050505081526020016002820180546107af90610f1b565b80601f01602080910402602001604051908101604052809291908181526020018280546107db90610f1b565b80156108285780601f106107fd57610100808354040283529160200191610828565b820191906000526020600020905b81548152906001019060200180831161080b57829003601f168201915b5050505050815260200160038201805461084190610f1b565b80601f016020809104026020016040519081016040528092919081815260200182805461086d90610f1b565b80156108ba5780601f1061088f576101008083540402835291602001916108ba565b820191906000526020600020905b81548152906001019060200180831161089d57829003601f168201915b5050505050815260200160048201548152505091505b806108da81610f84565b9150506106a3565b509392505050565b60606000805480602002602001604051908101604052809291908181526020016000905b82821015610b0a57838290600052602060002090600502016040518060a00160405290816000820154815260200160018201805461094b90610f1b565b80601f016020809104026020016040519081016040528092919081815260200182805461097790610f1b565b80156109c45780601f10610999576101008083540402835291602001916109c4565b820191906000526020600020905b8154815290600101906020018083116109a757829003601f168201915b505050505081526020016002820180546109dd90610f1b565b80601f0160208091040260200160405190810160405280929190818152602001828054610a0990610f1b565b8015610a565780601f10610a2b57610100808354040283529160200191610a56565b820191906000526020600020905b815481529060010190602001808311610a3957829003601f168201915b50505050508152602001600382018054610a6f90610f1b565b80601f0160208091040260200160405190810160405280929190818152602001828054610a9b90610f1b565b8015610ae85780601f10610abd57610100808354040283529160200191610ae8565b820191906000526020600020905b815481529060010190602001808311610acb57829003601f168201915b505050505081526020016004820154815250508152602001906001019061090e565b50505050905090565b60008151835114610b2657506000610ba1565b60005b8351811015610b9b57828181518110610b4457610b44610f05565b602001015160f81c60f81b6001600160f81b031916848281518110610b6b57610b6b610f05565b01602001516001600160f81b03191614610b89576000915050610ba1565b80610b9381610f84565b915050610b29565b50600190505b92915050565b828054610bb390610f1b565b90600052602060002090601f016020900481019282610bd55760008555610c1b565b82601f10610bee57805160ff1916838001178555610c1b565b82800160010185558215610c1b579182015b82811115610c1b578251825591602001919060010190610c00565b50610c27929150610c2b565b5090565b5b80821115610c275760008155600101610c2c565b63b95aa35560e01b600052604160045260246000fd5b600082601f830112610c6757600080fd5b813567ffffffffffffffff80821115610c8257610c82610c40565b604051601f8301601f19908116603f01168101908282118183101715610caa57610caa610c40565b81604052838152866020858801011115610cc357600080fd5b836020870160208301376000602085830101528094505050505092915050565b600060208284031215610cf557600080fd5b813567ffffffffffffffff811115610d0c57600080fd5b610d1884828501610c56565b949350505050565b6000815180845260005b81811015610d4657602081850181015186830182015201610d2a565b81811115610d58576000602083870101525b50601f01601f19169290920160200192915050565b805182526000602082015160a06020850152610d8c60a0850182610d20565b905060408301518482036040860152610da58282610d20565b91505060608301518482036060860152610dbf8282610d20565b915050608083015160808501528091505092915050565b6000602080830181845280855180835260408601915060408160051b870101925083870160005b82811015610e2b57603f19888603018452610e19858351610d6d565b94509285019290850190600101610dfd565b5092979650505050505050565b600080600080600060a08688031215610e5057600080fd5b85359450602086013567ffffffffffffffff80821115610e6f57600080fd5b610e7b89838a01610c56565b95506040880135915080821115610e9157600080fd5b610e9d89838a01610c56565b94506060880135915080821115610eb357600080fd5b50610ec088828901610c56565b95989497509295608001359392505050565b600060208284031215610ee457600080fd5b5035919050565b602081526000610efe6020830184610d6d565b9392505050565b63b95aa35560e01b600052603260045260246000fd5b600181811c90821680610f2f57607f821691505b60208210811415610f505763b95aa35560e01b600052602260045260246000fd5b50919050565b63b95aa35560e01b600052601160045260246000fd5b60008219821115610f7f57610f7f610f56565b500190565b6000600019821415610f9857610f98610f56565b506001019056fea2646970667358221220ddc37c62fddbd7480dad73c65e31b781ed41de98e9b68a6f8a1ba4aacddc60ac64736f6c634300080b0033"};

    public static final String SM_BINARY = org.fisco.bcos.sdk.v3.utils.StringUtils.joinAll("", SM_BINARY_ARRAY);

    public static final String[] ABI_ARRAY = {"[{\"inputs\":[],\"stateMutability\":\"nonpayable\",\"type\":\"constructor\"},{\"conflictFields\":[{\"kind\":0},{\"kind\":4,\"value\":[0]}],\"inputs\":[],\"name\":\"query_all_transaction\",\"outputs\":[{\"components\":[{\"internalType\":\"uint256\",\"name\":\"pid\",\"type\":\"uint256\"},{\"internalType\":\"string\",\"name\":\"purchase_username\",\"type\":\"string\"},{\"internalType\":\"string\",\"name\":\"owner\",\"type\":\"string\"},{\"internalType\":\"string\",\"name\":\"transaction_date\",\"type\":\"string\"},{\"internalType\":\"uint256\",\"name\":\"price\",\"type\":\"uint256\"}],\"internalType\":\"struct TransactionContract.Transaction[]\",\"name\":\"\",\"type\":\"tuple[]\"}],\"selector\":[363735720,3771045356],\"stateMutability\":\"view\",\"type\":\"function\"},{\"conflictFields\":[{\"kind\":0},{\"kind\":4,\"value\":[0]}],\"inputs\":[{\"internalType\":\"string\",\"name\":\"owner\",\"type\":\"string\"}],\"name\":\"query_owner_transaction\",\"outputs\":[{\"components\":[{\"internalType\":\"uint256\",\"name\":\"pid\",\"type\":\"uint256\"},{\"internalType\":\"string\",\"name\":\"purchase_username\",\"type\":\"string\"},{\"internalType\":\"string\",\"name\":\"owner\",\"type\":\"string\"},{\"internalType\":\"string\",\"name\":\"transaction_date\",\"type\":\"string\"},{\"internalType\":\"uint256\",\"name\":\"price\",\"type\":\"uint256\"}],\"internalType\":\"struct TransactionContract.Transaction[]\",\"name\":\"\",\"type\":\"tuple[]\"}],\"selector\":[3590524386,1361478032],\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"conflictFields\":[{\"kind\":0},{\"kind\":4,\"value\":[0]}],\"inputs\":[{\"internalType\":\"uint256\",\"name\":\"pid\",\"type\":\"uint256\"}],\"name\":\"query_pid_transaction\",\"outputs\":[{\"components\":[{\"internalType\":\"uint256\",\"name\":\"pid\",\"type\":\"uint256\"},{\"internalType\":\"string\",\"name\":\"purchase_username\",\"type\":\"string\"},{\"internalType\":\"string\",\"name\":\"owner\",\"type\":\"string\"},{\"internalType\":\"string\",\"name\":\"transaction_date\",\"type\":\"string\"},{\"internalType\":\"uint256\",\"name\":\"price\",\"type\":\"uint256\"}],\"internalType\":\"struct TransactionContract.Transaction\",\"name\":\"\",\"type\":\"tuple\"}],\"selector\":[2241934402,2658946175],\"stateMutability\":\"view\",\"type\":\"function\"},{\"conflictFields\":[{\"kind\":0},{\"kind\":4,\"value\":[0]}],\"inputs\":[{\"internalType\":\"uint256\",\"name\":\"pid\",\"type\":\"uint256\"},{\"internalType\":\"string\",\"name\":\"purchase_username\",\"type\":\"string\"},{\"internalType\":\"string\",\"name\":\"owner\",\"type\":\"string\"},{\"internalType\":\"string\",\"name\":\"transaction_date\",\"type\":\"string\"},{\"internalType\":\"uint256\",\"name\":\"price\",\"type\":\"uint256\"}],\"name\":\"record_transaction\",\"outputs\":[{\"internalType\":\"bool\",\"name\":\"\",\"type\":\"bool\"}],\"selector\":[2152134730,1519003608],\"stateMutability\":\"nonpayable\",\"type\":\"function\"}]"};

    public static final String ABI = org.fisco.bcos.sdk.v3.utils.StringUtils.joinAll("", ABI_ARRAY);

    public static final String FUNC_QUERY_ALL_TRANSACTION = "query_all_transaction";

    public static final String FUNC_QUERY_OWNER_TRANSACTION = "query_owner_transaction";

    public static final String FUNC_QUERY_PID_TRANSACTION = "query_pid_transaction";

    public static final String FUNC_RECORD_TRANSACTION = "record_transaction";

    protected TransactionContract(String contractAddress, Client client, CryptoKeyPair credential) {
        super(getBinary(client.getCryptoSuite()), contractAddress, client, credential);
    }

    public static String getBinary(CryptoSuite cryptoSuite) {
        return (cryptoSuite.getCryptoTypeConfig() == CryptoType.ECDSA_TYPE ? BINARY : SM_BINARY);
    }

    public static String getABI() {
        return ABI;
    }

    public List<Transaction> query_all_transaction() throws ContractException {
        final Function function = new Function(FUNC_QUERY_ALL_TRANSACTION, 
                Arrays.<Type>asList(), 
                Arrays.<TypeReference<?>>asList(new TypeReference<DynamicArray<Transaction>>() {}));
        return executeCallWithSingleValueReturn(function, List.class);
    }

    public TransactionReceipt query_owner_transaction(String owner) {
        final Function function = new Function(
                FUNC_QUERY_OWNER_TRANSACTION, 
                Arrays.<Type>asList(new Utf8String(owner)),
                Collections.<TypeReference<?>>emptyList(), 0);
        return executeTransaction(function);
    }

    public String getSignedTransactionForQuery_owner_transaction(String owner) {
        final Function function = new Function(
                FUNC_QUERY_OWNER_TRANSACTION, 
                Arrays.<Type>asList(new Utf8String(owner)),
                Collections.<TypeReference<?>>emptyList(), 0);
        return createSignedTransaction(function);
    }

    public String query_owner_transaction(String owner, TransactionCallback callback) {
        final Function function = new Function(
                FUNC_QUERY_OWNER_TRANSACTION, 
                Arrays.<Type>asList(new Utf8String(owner)),
                Collections.<TypeReference<?>>emptyList(), 0);
        return asyncExecuteTransaction(function, callback);
    }

    public Tuple1<String> getQuery_owner_transactionInput(TransactionReceipt transactionReceipt) {
        String data = transactionReceipt.getInput().substring(10);
        final Function function = new Function(FUNC_QUERY_OWNER_TRANSACTION, 
                Arrays.<Type>asList(), 
                Arrays.<TypeReference<?>>asList(new TypeReference<Utf8String>() {}));
        List<Type> results = this.functionReturnDecoder.decode(data, function.getOutputParameters());
        return new Tuple1<String>(

                (String) results.get(0).getValue()
                );
    }

    public Tuple1<DynamicArray<Transaction>> getQuery_owner_transactionOutput(
            TransactionReceipt transactionReceipt) {
        String data = transactionReceipt.getOutput();
        final Function function = new Function(FUNC_QUERY_OWNER_TRANSACTION, 
                Arrays.<Type>asList(), 
                Arrays.<TypeReference<?>>asList(new TypeReference<DynamicArray<Transaction>>() {}));
        List<Type> results = this.functionReturnDecoder.decode(data, function.getOutputParameters());
        return new Tuple1<DynamicArray<Transaction>>(

                new DynamicArray<>(Transaction.class,(List<Transaction>) results.get(0).getValue())
                );
    }

    public Transaction query_pid_transaction(BigInteger pid) throws ContractException {
        final Function function = new Function(FUNC_QUERY_PID_TRANSACTION, 
                Arrays.<Type>asList(new Uint256(pid)),
                Arrays.<TypeReference<?>>asList(new TypeReference<Transaction>() {}));
        return executeCallWithSingleValueReturn(function, Transaction.class);
    }

    public TransactionReceipt record_transaction(BigInteger pid, String purchase_username,
            String owner, String transaction_date, BigInteger price) {
        final Function function = new Function(
                FUNC_RECORD_TRANSACTION, 
                Arrays.<Type>asList(new Uint256(pid),
                new Utf8String(purchase_username),
                new Utf8String(owner),
                new Utf8String(transaction_date),
                new Uint256(price)),
                Collections.<TypeReference<?>>emptyList(), 0);
        return executeTransaction(function);
    }

    public String getSignedTransactionForRecord_transaction(BigInteger pid,
            String purchase_username, String owner, String transaction_date, BigInteger price) {
        final Function function = new Function(
                FUNC_RECORD_TRANSACTION, 
                Arrays.<Type>asList(new Uint256(pid),
                new Utf8String(purchase_username),
                new Utf8String(owner),
                new Utf8String(transaction_date),
                new Uint256(price)),
                Collections.<TypeReference<?>>emptyList(), 0);
        return createSignedTransaction(function);
    }

    public String record_transaction(BigInteger pid, String purchase_username, String owner,
            String transaction_date, BigInteger price, TransactionCallback callback) {
        final Function function = new Function(
                FUNC_RECORD_TRANSACTION, 
                Arrays.<Type>asList(new Uint256(pid),
                new Utf8String(purchase_username),
                new Utf8String(owner),
                new Utf8String(transaction_date),
                new Uint256(price)),
                Collections.<TypeReference<?>>emptyList(), 0);
        return asyncExecuteTransaction(function, callback);
    }

    public Tuple5<BigInteger, String, String, String, BigInteger> getRecord_transactionInput(
            TransactionReceipt transactionReceipt) {
        String data = transactionReceipt.getInput().substring(10);
        final Function function = new Function(FUNC_RECORD_TRANSACTION, 
                Arrays.<Type>asList(), 
                Arrays.<TypeReference<?>>asList(new TypeReference<Uint256>() {}, new TypeReference<Utf8String>() {}, new TypeReference<Utf8String>() {}, new TypeReference<Utf8String>() {}, new TypeReference<Uint256>() {}));
        List<Type> results = this.functionReturnDecoder.decode(data, function.getOutputParameters());
        return new Tuple5<BigInteger, String, String, String, BigInteger>(

                (BigInteger) results.get(0).getValue(), 
                (String) results.get(1).getValue(), 
                (String) results.get(2).getValue(), 
                (String) results.get(3).getValue(), 
                (BigInteger) results.get(4).getValue()
                );
    }

    public Tuple1<Boolean> getRecord_transactionOutput(TransactionReceipt transactionReceipt) {
        String data = transactionReceipt.getOutput();
        final Function function = new Function(FUNC_RECORD_TRANSACTION, 
                Arrays.<Type>asList(), 
                Arrays.<TypeReference<?>>asList(new TypeReference<Bool>() {}));
        List<Type> results = this.functionReturnDecoder.decode(data, function.getOutputParameters());
        return new Tuple1<Boolean>(

                (Boolean) results.get(0).getValue()
                );
    }

    public static TransactionContract load(String contractAddress, Client client,
            CryptoKeyPair credential) {
        return new TransactionContract(contractAddress, client, credential);
    }

    public static TransactionContract deploy(Client client, CryptoKeyPair credential) throws
            ContractException {
        return deploy(TransactionContract.class, client, credential, getBinary(client.getCryptoSuite()), getABI(), null, null);
    }

    public static class Transaction extends DynamicStruct {
        public BigInteger pid;

        public String purchase_username;

        public String owner;

        public String transaction_date;

        public BigInteger price;

        public Transaction(Uint256 pid, Utf8String purchase_username, Utf8String owner,
                Utf8String transaction_date, Uint256 price) {
            super(pid,purchase_username,owner,transaction_date,price);
            this.pid = pid.getValue();
            this.purchase_username = purchase_username.getValue();
            this.owner = owner.getValue();
            this.transaction_date = transaction_date.getValue();
            this.price = price.getValue();
        }

        public Transaction(BigInteger pid, String purchase_username, String owner,
                String transaction_date, BigInteger price) {
            super(new Uint256(pid),new Utf8String(purchase_username),new Utf8String(owner),new Utf8String(transaction_date),new Uint256(price));
            this.pid = pid;
            this.purchase_username = purchase_username;
            this.owner = owner;
            this.transaction_date = transaction_date;
            this.price = price;
        }
    }
}
